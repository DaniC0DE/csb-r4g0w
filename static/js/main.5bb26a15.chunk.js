(this["webpackJsonpproexe-frontendtask-daniel-alvarado-final"]=this["webpackJsonpproexe-frontendtask-daniel-alvarado-final"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(9),a=n.n(s),r=n(7),i=n(6),d=n(14),j=n(17),l=n(18),o=n(3),u={users:[]},b="ADD",h="EDIT",O="DELETE",m="LOADING_SUCCESS";function x(){return function(e){fetch("https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:m,users:e}}(t))}))}}var f="https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data";function p(e){return function(t){fetch(f,{method:"POST",body:JSON.stringify({name:e.name,email:e.email,username:e.username,address:{city:e.address.city}}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){t({type:b,newUser:e})}))}}function v(e){return function(t){fetch("".concat(f,"/").concat(e.id),{method:"PUT",body:JSON.stringify({name:e.name,email:e.email,username:e.username,address:{city:e.address.city}}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){t({type:h,userToEdit:e})}))}}function N(e){var t=e.id;return function(n){fetch("".concat(f,"/").concat(e.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(){n({type:O,userToDelete:t})}))}}var y=n(2),g=n(5),C=n(16),E=n.p+"static/media/sort.3cbc2a21.svg",k=n(1);function D(){var e=Object(c.useState)("ASC"),t=Object(g.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("id"),d=Object(g.a)(a,2),j=d[0],l=d[1],o=Object(i.c)((function(e){return e.users})),u=function(e){s(n?"DESC"===n?"ASC":"DESC":"ASC"),l(e)};return Object(k.jsxs)("div",{className:"Dashboard-Container",children:[Object(k.jsx)("h1",{className:"Dashboard-Title",children:"Dashboard"}),Object(k.jsxs)("div",{className:"List-Container",children:[Object(k.jsxs)("div",{className:"List-Header",children:[Object(k.jsx)("h2",{className:"List-Title",children:"User list"}),Object(k.jsx)(r.b,{className:"Add-btn Add-btn-link",to:"/form",state:{edit:!1},children:"Add new"})]}),Object(k.jsxs)("div",{className:"List-sub-container",children:[Object(k.jsxs)("div",{className:"List-subtitles",children:[Object(k.jsxs)("span",{onClick:function(){return u("id")},children:["Id ",Object(k.jsx)("img",{height:"20px",src:E,alt:""})]}),Object(k.jsx)("span",{children:"Name"}),Object(k.jsxs)("span",{onClick:function(){return u("username")},children:["Username",Object(k.jsx)("img",{height:"20px",src:E,alt:""})]}),Object(k.jsx)("span",{children:"Email"}),Object(k.jsx)("span",{children:"City"}),Object(k.jsx)("span",{children:"Edit"}),Object(k.jsx)("span",{children:"Delete"})]}),Object(k.jsx)("div",{children:Object(k.jsx)(S,{users:o,order:n,field:j})})]})]})]})}function S(e){return Object(k.jsx)("div",{children:e.users.length>0?e.users.sort((function(t,n){return"ASC"===e.order?t[e.field]<n[e.field]?-1:t[e.field]>n[e.field]?1:0:t[e.field]>n[e.field]?-1:t[e.field]<n[e.field]?1:0})).map((function(e){return Object(k.jsxs)("div",{className:"Card-Container",children:[Object(k.jsx)("div",{children:e.id}),Object(k.jsx)("div",{children:e.name}),Object(k.jsx)("div",{children:e.username}),Object(k.jsx)("div",{children:e.email}),Object(k.jsx)("div",{children:e.address.city}),Object(k.jsx)("div",{children:Object(k.jsx)(r.b,{className:"Edit-btn Edit-btn-link",to:"/form",state:{user:e.id,edit:!0},children:"Edit"})}),Object(k.jsx)("div",{children:Object(k.jsx)(T,{user:e})})]},e.id)})):Object(k.jsx)("div",{className:"Nousers-container",children:Object(k.jsx)("h1",{className:"Nousers-Text",children:" There are no users in the database "})})})}function T(e){var t=Object(i.b)(),n=Object(y.f)();return Object(k.jsx)(C.a,{className:"popup-background",trigger:Object(k.jsx)("button",{className:"Delete-btn",children:" Delete "}),modal:!0,children:function(c){return Object(k.jsxs)("div",{className:"modal-container",children:[Object(k.jsx)("a",{className:"close",onClick:c,children:"\xd7"}),Object(k.jsx)("div",{className:"popup-text",children:"Are you sure you want to delete this user?"}),Object(k.jsxs)("div",{className:"popup-btn-container",children:[Object(k.jsx)("button",{className:"popup-btn",onClick:function(){c(),n("/")},children:"Cancel"}),Object(k.jsx)("button",{className:"popup-btn",onClick:function(){var s;s=e.user,t(N(s)),c(),n("/")},children:"Yes"})]})]})}})}var L=n(8);function A(){var e=Object(c.useState)({id:"",name:"",email:"",username:"",address:{city:""}}),t=Object(g.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),d=Object(g.a)(a,2),j=d[0],l=d[1],u=Object(i.c)((function(e){return e.users})),b=Object(y.f)(),h=Object(i.b)(),O=Object(y.e)(),m=(null===O||void 0===O?void 0:O.state).edit;Object(c.useEffect)((function(){if(m){var e=(null===O||void 0===O?void 0:O.state).user,t=u.find((function(t){return t.id===e}));s({id:t.id,name:t.name,email:t.email,username:t.username,address:{city:t.address.city}})}}),[m]),Object(c.useEffect)((function(){n.name.length>0&&n.email.length>0?l(!1):l(!0)}),[n.name,n.email]);var x=function(e){"city"===e.target.name?s(Object(o.a)(Object(o.a)({},n),{},{address:Object(L.a)({},e.target.name,e.target.value)})):s(Object(o.a)(Object(o.a)({},n),{},Object(L.a)({id:u.length+1},e.target.name,e.target.value)))},f=function(e){"city"===e.target.name?s(Object(o.a)(Object(o.a)({},n),{},{address:Object(L.a)({},e.target.name,e.target.value)})):s(Object(o.a)(Object(o.a)({},n),{},Object(L.a)({id:n.id},e.target.name,e.target.value)))};function N(e){var t=["input"];return e?t.push("red"):t.push("green"),t.join(" ")}return Object(k.jsxs)("div",{className:"Dashboard-Container",children:[Object(k.jsx)("h1",{className:"Dashboard-Title",children:"Dashboard"}),Object(k.jsxs)("div",{className:"List-Container",children:[Object(k.jsx)("div",{className:"List-Header",children:Object(k.jsx)("h1",{className:"List-Title",children:"Form"})}),Object(k.jsxs)("div",{className:"Form-Container",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"Name"}),Object(k.jsxs)("span",{className:"input-container",children:[Object(k.jsx)("input",{className:N(j),name:"name",onChange:m?f:x,value:n.name,type:"text",placeholder:"enter your name"}),Object(k.jsx)("span",{children:"*Required"})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"Email"}),Object(k.jsxs)("span",{className:"input-container",children:[Object(k.jsx)("input",{className:N(j),name:"email",onChange:m?f:x,value:n.email,type:"text",placeholder:"enter your email"}),Object(k.jsx)("span",{children:"*Required"})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"Username"}),Object(k.jsx)("input",{className:"input",name:"username",onChange:m?f:x,value:n.username,type:"text",placeholder:"enter your username"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"City"}),Object(k.jsx)("input",{className:"input",name:"city",onChange:m?f:x,value:n.address.city,type:"text",placeholder:"enter your city"})]})]}),Object(k.jsxs)("div",{className:"btn-form-container",children:[Object(k.jsx)(r.b,{className:"cancelform-btn cancelform-btn-link",to:"/",children:"Cancel"}),m?Object(k.jsx)("button",{className:"submit-btn",disabled:j,onClick:function(){h(v(n)),b("/")},children:"Edit"}):Object(k.jsx)("button",{className:"submit-btn",disabled:j,onClick:function(){h(p(n)),b("/")},children:"Submit"})]})]})]})}n(27);function U(){var e=Object(i.b)();Object(i.c)((function(e){return e.users}));return Object(c.useEffect)((function(){e(x())}),[e]),Object(k.jsx)("div",{className:"flex",children:Object(k.jsxs)(y.c,{children:[Object(k.jsx)(y.a,{path:"/",element:Object(k.jsx)(D,{})}),Object(k.jsx)(y.a,{path:"/form",element:Object(k.jsx)(A,{})})]})})}var w=Object(d.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case b:return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(l.a)(e.users),[t.newUser])});case O:var n=e.users.filter((function(e){return e.id!==t.userToDelete}));return Object(o.a)(Object(o.a)({},e),{},{users:n});case h:var c=e.users.map((function(e){return e.id===t.userToEdit.id?t.userToEdit:e}));return Object(o.a)(Object(o.a)({},e),{},{users:c});default:return e}}),Object(d.a)(j.a)),F=document.getElementById("root");a.a.render(Object(k.jsx)(c.StrictMode,{children:Object(k.jsx)(i.a,{store:w,children:Object(k.jsx)(r.a,{children:Object(k.jsx)(U,{})})})}),F)}},[[28,1,2]]]);
//# sourceMappingURL=main.5bb26a15.chunk.js.map